<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Aplikace pronaj√≠matel ‚Äì Hlavn√≠ panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="src/forms/style-pronajimatel-najemnik.css">
  <style>
    :root {
      --bg: #0b0f14;
      --card: #121821;
      --muted: #99a3b3;
      --text: #e6edf3;
      --brand: #4cc9f0;
      --accent: #80ffdb;
      --border: #1c2430;
      --active: #21344a;
    }
    html, body { height: 100% }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 70% -10%, rgba(128,255,219,0.09), transparent 50%),
                  radial-gradient(900px 600px at -10% 30%, rgba(76,201,240,0.08), transparent 50%), var(--bg);
      color: var(--text);
      font: 15px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
    }
    .app { display: grid; grid-template-columns: 270px 1fr; height: 100vh; }
    aside {
      background: linear-gradient(180deg, rgba(33,52,74,.4), rgba(18,24,33,.7) 30%), var(--card);
      border-right: 1px solid var(--border);
      padding: 12px 7px; overflow-y: auto;
    }
    .brand { display:flex; align-items:center; gap:8px; padding: 7px 10px; margin-bottom: 7px }
    .brand i { font-style: normal; font-size: 20px }
    .brand strong { letter-spacing:.3px }
    .section { margin: 10px 2px; border-radius:12px; overflow:hidden; border:1px solid var(--border); background: #0e141c }
    .section-header { display:flex; align-items:center; gap:8px; padding:7px 10px; cursor:pointer; user-select:none; font-size:15px }
    .section-header .chev { transition: transform .2s ease }
    .section.open .section-header .chev { transform: rotate(90deg) }
    .section-items { display:none; padding:2px 2px 4px }
    .section.open .section-items { display:block }
    .nav-item { display:flex; align-items:center; gap:7px; padding:4px 7px; margin:2px 1px; border-radius:8px; cursor:pointer; color:var(--muted); font-size:15px }
    .nav-item .icon { font-size:17px; }
    .nav-item:hover { background:#101826; color:var(--text) }
    .nav-item.active { background: var(--active); color: var(--text); border: 1px solid #243449 }
    .mini { font-size:12px; color:var(--muted); padding: 3px 12px 0 }
    header {
      background: linear-gradient(90deg, var(--card) 80%, rgba(128,255,219,0.05) 100%);
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 30px 12px 30px; border-bottom: 1px solid var(--border);
    }
    .crumbs { font-size:15px; color:var(--muted); }
    .crumbs strong { color:var(--brand); }
    main { padding:0; min-height: 100vh; background:transparent; }
    .tiles { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:28px; padding:44px 36px 0 }
    .tile {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius:16px; padding:34px 18px 22px;
      display:flex; flex-direction:column; align-items:center; gap:14px;
      cursor:pointer; transition:.19s; box-shadow:0 2px 13px rgba(12,32,44,.07);
      position:relative;
    }
    .tile:hover { border-color: var(--brand); box-shadow:0 3px 19px rgba(76,201,240,.13); }
    .tile .icon { font-size:36px }
    .tile .tile-title { font-size:18px; color:var(--text); font-weight:600; margin-top:10px; }
    .tile-count { color:var(--muted); font-size:14px }
    .list-table { width:100%; border-collapse:collapse; margin-top:20px }
    .list-table th, .list-table td { padding:8px 12px; border-bottom:1px solid var(--border); font-size:15px }
    .list-table th { color:var(--brand); background:rgba(76,201,240,0.08) }
    .list-table td { color:var(--text); background:var(--card) }
    .list-actions button { margin-right:4px }
    .btn { background: var(--brand); color:#111; border:none; border-radius:8px; padding:7px 13px; font-size:15px; cursor:pointer; transition:.19s; }
    .btn.primary { background: var(--brand); color: #111; }
    .btn:hover { background: var(--accent); }
    .modal { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(18,24,33, 0.97); display: none; align-items: center; justify-content: center; z-index: 9999; }
    .modal.active { display: flex; }
    .modal-content { background: var(--card); border-radius: 18px; box-shadow:0 2px 24px rgba(76,201,240,.14); padding: 38px 36px; min-width:350px; max-width:450px }
    .modal-type-select { display: flex; flex-wrap: wrap; gap:18px; justify-content:center; }
    .type-choice-btn { background:var(--brand); color:#111; border:none; border-radius:10px; padding:17px 28px; font-size:17px; cursor:pointer; margin:4px; box-shadow:0 2px 10px rgba(76,201,240,.10);}
    .type-choice-btn:hover { background:var(--accent); }
    .form-row { margin-bottom:18px; }
    .form-row label { display:block; margin-bottom:7px; color:var(--brand); font-size:15px }
    .form-row input, .form-row select { width:100%; padding:8px 11px; border-radius:6px; border:1px solid var(--border); background:#181e26; color:var(--text); font-size:15px }
  </style>
</head>
<body>
<div class="app">
  <aside>
    <div class="brand">
      <i>üè†</i>
      <strong>Aplikace pronaj√≠matel</strong>
    </div>
    <div class="section open">
      <div class="section-header"><span class="chev">‚ñ∂</span> Moduly</div>
      <div class="section-items">
        <div class="nav-item active" id="navPronajimatel"><span class="icon">üë§</span>Pronaj√≠matel</div>
        <div class="nav-item" id="navNajemnici"><span class="icon">üßë‚Äçüíº</span>N√°jemn√≠ci</div>
      </div>
    </div>
  </aside>
  <div style="display:flex; flex-direction:column; width:100%">
    <header>
      <span class="crumbs" id="crumbs"><strong>Pronaj√≠matel</strong></span>
    </header>
    <main id="main">
      <!-- Seznam pronaj√≠matel≈Ø se zobraz√≠ jako default -->
    </main>
  </div>
</div>

<div class="modal" id="formModal">
  <div class="modal-content" id="modalArea">
    <!-- Dynamicky generovan√© formul√°≈ôe a v√Ωbƒõry typ≈Ø -->
  </div>
</div>

<script>
const typeIcons = {
  osoba: 'üë§',
  osvc: 'üßë‚Äçüíº',
  firma: 'üè¢',
  spolek: 'ü™Å',
  stat: 'üèõÔ∏è'
};

// Vzorov√Ω seznam pronaj√≠matel≈Ø
const pronajimatelList = [
  { id: 1, typ: "osoba", jmeno: "Jan Nov√°k", email: "jan.novak@email.cz", zastupce: "" },
  { id: 2, typ: "osvc", jmeno: "Petra Vesel√°", email: "petra.vesela@email.cz", zastupce: "" },
  { id: 3, typ: "firma", jmeno: "Alfa s.r.o.", email: "info@alfa.cz", zastupce: "Jan Nov√°k" },
  { id: 4, typ: "spolek", jmeno: "Sportovn√≠ klub", email: "sport@klub.cz", zastupce: "Petra Vesel√°" },
  { id: 5, typ: "stat", jmeno: "Mƒõstsk√Ω √∫≈ôad", email: "urad@stat.cz", zastupce: "" }
];

// Vzorov√Ω seznam n√°jemn√≠k≈Ø (stejn√© typy, n√°vrh jmen)
const najemniciList = [
  { id: 1, typ: "osoba", jmeno: "Jakub Dole≈æal", email: "jakub.dolezal@email.cz", zastupce: "" },
  { id: 2, typ: "osvc", jmeno: "Eli≈°ka Hor√°kov√°", email: "eliska.horakova@email.cz", zastupce: "" },
  { id: 3, typ: "firma", jmeno: "Gama s.r.o.", email: "info@gama.cz", zastupce: "Jakub Dole≈æal" },
  { id: 4, typ: "spolek", jmeno: "Hudebn√≠ sdru≈æen√≠", email: "hudba@sdruzeni.cz", zastupce: "Eli≈°ka Hor√°kov√°" },
  { id: 5, typ: "stat", jmeno: "Obecn√≠ √∫≈ôad", email: "obec@stat.cz", zastupce: "" }
];

// Renderov√°n√≠ breadcrumb≈Ø
function renderCrumbs(modTitle, type) {
  document.getElementById('crumbs').innerHTML =
    `<strong>${modTitle}</strong>${type && type !== 'all' ? ' / ' + type.charAt(0).toUpperCase()+type.slice(1) : ''}`;
}

// Renderov√°n√≠ seznamu pronaj√≠matel≈Ø
function renderPronajimatelSeznam(type = 'all') {
  let filtered = pronajimatelList;
  if (type && type !== 'all') {
    filtered = pronajimatelList.filter(r => r.typ === type);
  }
  const main = document.getElementById('main');
  main.innerHTML = `
    <div style="padding:24px 24px 10px 24px; display:flex; justify-content:space-between; align-items:center">
      <h2>Seznam pronaj√≠matel≈Ø ${type !== 'all' ? '- ' + type.charAt(0).toUpperCase() + type.slice(1) : ''}</h2>
      <button class="btn primary" id="addNewPronajimatel">+ P≈ôidat pronaj√≠matele</button>
    </div>
    <div style="padding:0 24px">
      <table class="list-table">
        <thead>
          <tr>
            <th>Typ</th><th>Jm√©no</th><th>Email</th><th>Z√°stupce</th><th>Akce</th>
          </tr>
        </thead>
        <tbody>
          ${filtered.map(r => `
            <tr>
              <td><span style="font-size:17px">${typeIcons[r.typ] || ""}</span> ${r.typ.charAt(0).toUpperCase() + r.typ.slice(1)}</td>
              <td>${r.jmeno}</td>
              <td>${r.email}</td>
              <td>${r.zastupce || ''}</td>
              <td class="list-actions">
                <button class="btn" onclick='openFormModalPronajimatel("${r.typ}")'>Upravit</button>
              </td>
            </tr>
          `).join('')}
        </tbody>
      </table>
    </div>
  `;
  document.getElementById('addNewPronajimatel').onclick = () => {
    openTypeSelectModalPronajimatel("pronajimatel");
  };
}

// Renderov√°n√≠ seznamu n√°jemn√≠k≈Ø
function renderNajemniciSeznam(type = 'all') {
  let filtered = najemniciList;
  if (type && type !== 'all') {
    filtered = najemniciList.filter(r => r.typ === type);
  }
  const main = document.getElementById('main');
  main.innerHTML = `
    <div style="padding:24px 24px 10px 24px; display:flex; justify-content:space-between; align-items:center">
      <h2>Seznam n√°jemn√≠k≈Ø ${type !== 'all' ? '- ' + type.charAt(0).toUpperCase() + type.slice(1) : ''}</h2>
      <button class="btn primary" id="addNewNajemnik">+ P≈ôidat n√°jemn√≠ka</button>
    </div>
    <div style="padding:0 24px">
      <table class="list-table">
        <thead>
          <tr>
            <th>Typ</th><th>Jm√©no</th><th>Email</th><th>Z√°stupce</th><th>Akce</th>
          </tr>
        </thead>
        <tbody>
          ${filtered.map(r => `
            <tr>
              <td><span style="font-size:17px">${typeIcons[r.typ] || ""}</span> ${r.typ.charAt(0).toUpperCase() + r.typ.slice(1)}</td>
              <td>${r.jmeno}</td>
              <td>${r.email}</td>
              <td>${r.zastupce || ''}</td>
              <td class="list-actions">
                <button class="btn" onclick='openFormModalNajemnik("${r.typ}")'>Upravit</button>
              </td>
            </tr>
          `).join('')}
        </tbody>
      </table>
    </div>
  `;
  document.getElementById('addNewNajemnik').onclick = () => {
    openTypeSelectModalNajemnik("najemnici");
  };
}

// V√Ωbƒõr typu p≈ôed formul√°≈ôem (pronaj√≠matel)
function openTypeSelectModalPronajimatel(module) {
  const typy = ["osoba", "osvc", "firma", "spolek", "stat"];
  document.getElementById('modalArea').innerHTML = `
    <h2 style="margin-bottom:18px;color:#4cc9f0;">Zvolte typ pronaj√≠matele</h2>
    <div class="modal-type-select">
      ${typy.map(t =>
        `<button class="type-choice-btn" onclick='openFormModalPronajimatel("${t}")'>${typeIcons[t]} ${t.charAt(0).toUpperCase() + t.slice(1)}</button>`
      ).join('')}
    </div>
  `;
  document.getElementById('formModal').classList.add('active');
}

// V√Ωbƒõr typu p≈ôed formul√°≈ôem (n√°jemn√≠k)
function openTypeSelectModalNajemnik(module) {
  const typy = ["osoba", "osvc", "firma", "spolek", "stat"];
  document.getElementById('modalArea').innerHTML = `
    <h2 style="margin-bottom:18px;color:#4cc9f0;">Zvolte typ n√°jemn√≠ka</h2>
    <div class="modal-type-select">
      ${typy.map(t =>
        `<button class="type-choice-btn" onclick='openFormModalNajemnik("${t}")'>${typeIcons[t]} ${t.charAt(0).toUpperCase() + t.slice(1)}</button>`
      ).join('')}
    </div>
  `;
  document.getElementById('formModal').classList.add('active');
}

// Formul√°≈ô pro p≈ôid√°n√≠/√∫pravu pronaj√≠matele
function openFormModalPronajimatel(type) {
  document.getElementById('modalArea').innerHTML = getFormHtml('pronajimatel', type);
  document.getElementById('formModal').classList.add('active');
  setupForm({ module: 'pronajimatel', type });
}

// Formul√°≈ô pro p≈ôid√°n√≠/√∫pravu n√°jemn√≠ka
function openFormModalNajemnik(type) {
  document.getElementById('modalArea').innerHTML = getFormHtml('najemnik', type);
  document.getElementById('formModal').classList.add('active');
  setupForm({ module: 'najemnik', type });
}

// Vygeneruje jednoduch√Ω HTML formul√°≈ô (m≈Ø≈æe≈° upravit dle pot≈ôeby)
function getFormHtml(module, type) {
  const labels = {
    osoba: "Jm√©no osoby",
    osvc: "Jm√©no OSVƒå",
    firma: "N√°zev firmy",
    spolek: "N√°zev spolku",
    stat: "N√°zev instituce"
  };
  return `
    <h2 id="formTitle" style="margin-bottom:18px;color:#4cc9f0;">${module === 'pronajimatel' ? 'Nov√Ω pronaj√≠matel' : 'Nov√Ω n√°jemn√≠k'} ‚Äì ${type.charAt(0).toUpperCase() + type.slice(1)}</h2>
    <form id="mainForm">
      <div class="form-row" data-types="${type}">
        <label>${labels[type] || "Jm√©no"}</label>
        <input type="text" required placeholder="${labels[type] || "Jm√©no"}">
      </div>
      <div class="form-row" data-types="${type}">
        <label>Email</label>
        <input type="email" required placeholder="Email">
      </div>
      <div class="form-row" data-types="${type}">
        <label>Z√°stupce</label>
        <input type="text" placeholder="Z√°stupce">
      </div>
      <div style="display:flex; gap:17px; margin-top:28px">
        <button type="submit" class="btn primary">Ulo≈æit</button>
        <button type="button" class="btn" id="formCancel">Zru≈°it</button>
      </div>
    </form>
  `;
}

// Nastaven√≠ funkc√≠ formul√°≈ôe
function setupForm({ module = 'pronajimatel', type = 'firma' }) {
  // Zru≈°itko
  const cancel = document.getElementById('formCancel');
  if (cancel) {
    cancel.onclick = () => {
      document.getElementById('mainForm').reset();
      closeFormModal();
    };
  }
  // Submit
  document.getElementById('mainForm').onsubmit = function(e) {
    e.preventDefault();
    alert('Formul√°≈ô byl √∫spƒõ≈°nƒõ odesl√°n!');
    closeFormModal();
  };
}

// Zav≈ôen√≠ modalu
function closeFormModal() {
  document.getElementById('formModal').classList.remove('active');
}

// Menu kliky
document.getElementById('navPronajimatel').onclick = function() {
  document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
  this.classList.add('active');
  renderCrumbs('Pronaj√≠matel');
  renderPronajimatelSeznam();
};
document.getElementById('navNajemnici').onclick = function() {
  document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
  this.classList.add('active');
  renderCrumbs('N√°jemn√≠ci');
  renderNajemniciSeznam();
};

// Defaultn√≠ zobrazen√≠
window.onload = function() {
  renderPronajimatelSeznam();
};

</script>
</body>
</html>
