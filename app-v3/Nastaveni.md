> â„¹ï¸ Viz [Pravidla dokumentace a centrÃ¡lnÃ­ katalogy](./pravidla.md)  
> â„¹ï¸ Viz [CentrÃ¡lnÃ­ katalog tlaÄÃ­tek a ikon](./common-actions.md)  
> â„¹ï¸ Viz [CentrÃ¡lnÃ­ katalog oprÃ¡vnÄ›nÃ­](./permissions-catalog.md)

# Modul: NastavenÃ­

---

## ğŸŒ² StromovÃ¡ struktura modulu

| Stav | Sekce                                | Popis                                                      |
|------|--------------------------------------|------------------------------------------------------------|
| âœ…   | ğŸŸ¦ ÄŒÃ­selnÃ­ky a ÄÃ­slovÃ¡nÃ­ dokumentÅ¯    | NastavenÃ­ ÄÃ­selnÃ½ch Å™ad dokladÅ¯, obecnÃ© ÄÃ­selnÃ­ky          |
| âœ…   | ğŸŸ¦ ZÃ¡lohovÃ¡nÃ­, import a export        | ZÃ¡lohy databÃ¡ze a dokumentÅ¯, import/export dat             |
| âœ…   | ğŸŸ¦ ZobrazenÃ­ a vzhled aplikace        | BarevnÃ¡ schÃ©mata, velikost pÃ­sma, rozloÅ¾enÃ­, hlavnÃ­ panel  |
| âœ…   | ğŸŸ¦ NastavenÃ­ oblÃ­benÃ½ch (strom menu)  | UÅ¾ivatelÃ© si volÃ­ oblÃ­benÃ© sekce a poÅ™adÃ­                  |
| âœ…   | ğŸŸ¦ MobilnÃ­ zobrazenÃ­ a optimalizace   | MobilnÃ­ reÅ¾im, zjednoduÅ¡enÃ© ovlÃ¡dÃ¡nÃ­, FAB, omezenÃ­ funkcÃ­  |
| âœ…   | ğŸ“ PoznÃ¡mky, nÃ¡pady a Ãºkoly           | Prostor pro dalÅ¡Ã­ poznÃ¡mky a TODO                          |

---

## ğŸŸ¦ ÄŒÃ­selnÃ­ky a ÄÃ­slovÃ¡nÃ­ dokumentÅ¯

### âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e
- [x] ÃšÄel sekce/dlaÅ¾dice (nastavenÃ­ ÄÃ­selnÃ½ch Å™ad a ÄÃ­selnÃ­kÅ¯ pro doklady, typy sluÅ¾eb, zaÅ™Ã­zenÃ­, kategoriÃ­, stavÅ¯â€¦)
- [x] Kdo mÃ¡ pÅ™Ã­stup/viditelnost podle oprÃ¡vnÄ›nÃ­/rolÃ­ (admin, pronajÃ­matel, sprÃ¡vce)
- [x] ZaÅ™azenÃ­ v hlavnÃ­ stromovÃ© struktuÅ™e
- [x] Podsekce: sprÃ¡va pÅ™edpon/pÅ™Ã­pon, formÃ¡t, poÄÃ¡teÄnÃ­ ÄÃ­sla, automatickÃ© generovÃ¡nÃ­
- [x] VÃ½Äet polÃ­: prefix, pÅ™Ã­pona, formÃ¡t ÄÃ­selnÃ© Å™ady, ÄÃ­slo od/do, aktuÃ¡lnÃ­ ÄÃ­slo
- [x] Validace unikÃ¡tnosti, povinnÃ½ch polÃ­
- [x] Akce: vytvoÅ™it, editovat, deaktivovat ÄÃ­selnÃ­k
- [x] ChybovÃ© stavy: konflikt v ÄÃ­selnÃ© Å™adÄ›, neuloÅ¾enÃ© zmÄ›ny

---

## ğŸŸ¦ ZÃ¡lohovÃ¡nÃ­, import a export

### âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e
- [x] ÃšÄel sekce (zÃ¡lohovÃ¡nÃ­ systÃ©mu a dat, import/export uÅ¾ivatelskÃ½ch dat)
- [x] Kdo mÃ¡ pÅ™Ã­stup (admin, pronajÃ­matel, sprÃ¡vce)
- [x] Podsekce: manuÃ¡lnÃ­/automatickÃ© zÃ¡lohy, obnova, historie zÃ¡loh
- [x] FormulÃ¡Å™: volba typu zÃ¡lohy, umÃ­stÄ›nÃ­, interval, poslednÃ­ zÃ¡loha
- [x] Akce: stÃ¡hnout zÃ¡lohu, obnovit, importovat (CSV, XLSX, XML)
- [x] Validace formÃ¡tu dat, povinnÃ½ch polÃ­
- [x] ChybovÃ© stavy: chyba importu/exportu, neuloÅ¾enÃ© nastavenÃ­

---

## ğŸŸ¦ ZobrazenÃ­ a vzhled aplikace

### âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e
- [x] ÃšÄel sekce (personalizace vzhledu, rozloÅ¾enÃ­, velikost pÃ­sma, kontrast)
- [x] Kdo mÃ¡ pÅ™Ã­stup (vÅ¡ichni uÅ¾ivatelÃ©)
- [x] FormulÃ¡Å™: volba barev, velikosti pÃ­sma, panelÅ¯, zobrazenÃ½ch sekcÃ­
- [x] Podsekce: nastavenÃ­ pro jednotlivce/skupinu/globÃ¡lnÄ›
- [x] Akce: uloÅ¾it, resetovat
- [x] Validace: povinnÃ¡ pole, kompatibilita nastavenÃ­
- [x] ChybovÃ© stavy: neuloÅ¾enÃ© nastavenÃ­

---

## ğŸŸ¦ NastavenÃ­ oblÃ­benÃ½ch (strom menu)

### âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e
- [x] ÃšÄel sekce (rychlÃ½ pÅ™Ã­stup k oblÃ­benÃ½m sekcÃ­m, drag&drop poÅ™adÃ­)
- [x] Kdo mÃ¡ pÅ™Ã­stup (vÅ¡ichni uÅ¾ivatelÃ©, admin mÅ¯Å¾e nastavit globÃ¡lnÄ›)
- [x] Podsekce: skrÃ½vÃ¡nÃ­ nevyuÅ¾Ã­vanÃ½ch ÄÃ¡stÃ­, uklÃ¡dÃ¡nÃ­ preferencÃ­
- [x] FormulÃ¡Å™: vÃ½bÄ›r modulÅ¯/dlaÅ¾dic, poÅ™adÃ­, zobrazenÃ­/skrytÃ­
- [x] Akce: uloÅ¾it, reset, nastavit pro vÅ¡echny
- [x] Validace: povinnÃ¡ pole
- [x] ChybovÃ© stavy: neuloÅ¾enÃ© zmÄ›ny

---

## ğŸŸ¦ MobilnÃ­ zobrazenÃ­ a optimalizace

### âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e
- [x] ÃšÄel sekce (optimalizace pro mobilnÃ­ zaÅ™Ã­zenÃ­, omezenÃ­ funkcÃ­, zjednoduÅ¡enÃ­)
- [x] Kdo mÃ¡ pÅ™Ã­stup (vÅ¡ichni uÅ¾ivatelÃ©)
- [x] Podsekce: mobilnÃ­ reÅ¾im, velikost ovlÃ¡dacÃ­ch prvkÅ¯, FAB akce
- [x] FormulÃ¡Å™: volba mobilnÃ­ho reÅ¾imu, zobrazenÃ© sekce, upozornÄ›nÃ­ na omezenÃ­
- [x] Akce: pÅ™epnout reÅ¾im, skrÃ½t/ukÃ¡zat sekci, rychlÃ© akce (FAB)
- [x] Validace: povinnÃ¡ pole, kompatibilita
- [x] ChybovÃ© stavy: upozornÄ›nÃ­ na omezenou funkcionalitu v mobilu

---

## ğŸ“ PoznÃ¡mky, nÃ¡pady a Ãºkoly k modulu i dlaÅ¾dicÃ­m

> Sem piÅ¡ vÅ¡e, co je potÅ™eba doplnit, zmÄ›nit nebo vyÅ™eÅ¡it.  
> â³ = rozpracovÃ¡no, pÅ™eÅ¡krtni hotovÃ©.

- â³ PÅ™idat moÅ¾nost hromadnÃ©ho nastavenÃ­ pro skupiny uÅ¾ivatelÅ¯ (role, typ ÃºÄtu)
- â³ Implementovat logovÃ¡nÃ­ zmÄ›n v nastavenÃ­ (audit trail)
- â³ UmoÅ¾nit nastavenÃ­ notifikacÃ­ na zmÄ›ny v systÃ©mu
- â³ Integrace s externÃ­mi sprÃ¡vci identit (SSO, OAuth)
- â³ MoÅ¾nost nastavenÃ­ automatickÃ½ch kontrol konzistence dat
- â³ PÅ™idat moÅ¾nost exportu vÅ¡ech nastavenÃ­ vÄetnÄ› uÅ¾ivatelskÃ½ch preferencÃ­
- â³ VytvoÅ™it detailnÃ­ historii zmÄ›n pro kaÅ¾dÃ© nastavenÃ­ (audit log)
- â³ UpozornÄ›nÃ­ na konflikty pÅ™i hromadnÃ½ch zmÄ›nÃ¡ch
- â³ PÅ™idat nÃ¡hled zmÄ›n pÅ™ed uloÅ¾enÃ­m

---

## ğŸ—„ï¸ DatovÃ© modely (ukÃ¡zka)

### 1. UÅ¾ivatelskÃ© preference

```json
{
  "user_id": "uzivatel123",
  "oblibene_moduly": ["platby", "ÃºdrÅ¾ba", "energie"],
  "menu_pozice": ["platby", "energie", "ÃºdrÅ¾ba", "komunikace"],
  "barva": "tmavÃ½",
  "velikost_pisma": "stÅ™ednÃ­",
  "mobilni_rezim": true
}
```

### 2. ÄŒÃ­selnÃ¡ Å™ada

```json
{
  "id": "faktura_2025",
  "modul": "faktury",
  "prefix": "FA-2025-",
  "cislo_od": 10001,
  "cislo_do": 99999,
  "aktualni_cislo": 10057,
  "format": "FA-2025-{cislo}"
}
```

### 3. NastavenÃ­ zÃ¡loh

```json
{
  "rezim": "automaticky",
  "interval": "denne",
  "umisteni": "cloud",
  "posledni_zaloha": "2025-09-09T02:00:00"
}
```

---

## âš ï¸ ChybovÃ© stavy a vÃ½jimky

| Chyba / vÃ½jimka                | Å˜eÅ¡enÃ­ systÃ©mu / reakce      | UÅ¾ivatelskÃ¡ hlÃ¡Å¡ka                              |
|---------------------------------|------------------------------|-------------------------------------------------|
| NeuloÅ¾enÃ© nastavenÃ­             | Upozornit, nabÃ­dnout uloÅ¾enÃ­ | â€ZmÄ›ny nebyly uloÅ¾eny, chcete pokraÄovat?â€œ      |
| Chyba pÅ™i importu/exportu       | DetailnÃ­ hlÃ¡Å¡ka, logovÃ¡nÃ­    | â€Import se nezdaÅ™il, zkontrolujte formÃ¡t dat.â€œ  |
| Konflikt v ÄÃ­selnÃ© Å™adÄ›         | ZabrÃ¡nit uloÅ¾enÃ­, nabÃ­dnout Å™eÅ¡enÃ­ | â€ÄŒÃ­slo jiÅ¾ existuje, upravte ÄÃ­selnou Å™adu.â€œ|
| NepodporovanÃ¡ funkce v mobilu   | VarovÃ¡nÃ­, nabÃ­dnout desktop  | â€Tato funkce je dostupnÃ¡ pouze na desktopu.â€œ    |

---

## ğŸ›¡ï¸ Role a oprÃ¡vnÄ›nÃ­

| Funkce / Akce                | Admin | PronajÃ­matel | SprÃ¡vce | NÃ¡jemnÃ­k | Pouze ÄtenÃ­ |
|------------------------------|:-----:|:------------:|:-------:|:--------:|:-----------:|
| SprÃ¡va ÄÃ­selnÃ­kÅ¯             |  âœ…   |      âœ…      |   âœ…    |    âŒ    |     âŒ      |
| NastavenÃ­ zÃ¡loh, importu     |  âœ…   |      âœ…      |   âœ…    |    âŒ    |     âŒ      |
| NastavenÃ­ vzhledu            |  âœ…   |      âœ…      |   âœ…    |    âœ…    |     âŒ      |
| Volba oblÃ­benÃ½ch             |  âœ…   |      âœ…      |   âœ…    |    âœ…    |     âŒ      |

---

## ğŸ“‹ DoporuÄenÃ© workflow

1. **NastavenÃ­ ÄÃ­selnÃ­kÅ¯ a Å™ad:**  
   - Admin/pronajÃ­matel nastavÃ­ ÄÃ­selnÃ© Å™ady pro vÅ¡echny druhy dokumentÅ¯.
   - SystÃ©m automaticky generuje ÄÃ­sla pÅ™i tvorbÄ› novÃ½ch zÃ¡znamÅ¯.

2. **ZÃ¡lohovÃ¡nÃ­ a obnova:**  
   - NastavenÃ­ automatickÃ©ho reÅ¾imu zÃ¡loh (interval, umÃ­stÄ›nÃ­).
   - PÅ™ed obnovou systÃ©m vÅ¾dy vytvoÅ™Ã­ zÃ¡loÅ¾nÃ­ kopii aktuÃ¡lnÃ­ho stavu.

3. **Ãšprava vzhledu/oblÃ­benÃ½ch:**  
   - UÅ¾ivatel si nastavÃ­ preferovanÃ© moduly a poÅ™adÃ­, pÅ™Ã­padnÄ› vzhled aplikace.
   - V mobilu jsou vidÄ›t pouze oblÃ­benÃ© moduly/dlaÅ¾dice, ostatnÃ­ v rozbalovacÃ­m menu.

4. **Import/export:**  
   - UÅ¾ivatel nebo sprÃ¡vce pouÅ¾ije prÅ¯vodce importem/exportem, systÃ©m nabÃ­dne mapovÃ¡nÃ­ polÃ­ a kontrolu dat.

---

## ğŸ“š Reference

- [Modul Komunikace](./komunikace.md)
- [Modul Platby](./platby.md)
- [Modul ÃšdrÅ¾ba](./udrzba.md)
- [Modul Energie](./energie.md)

---

ğŸ“± Rady k nastavenÃ­ pro telefony:  
Omezit poÄet â€viditelnÃ½châ€œ modulÅ¯ na hlavnÃ­ obrazovce:  
V mobilnÃ­ verzi nabÃ­dnÄ›te pouze nejÄastÄ›ji pouÅ¾Ã­vanÃ© (Platby, ÃšdrÅ¾ba, Komunikace). OstatnÃ­ skryjte do menu.  
PouÅ¾Ã­t tzv. â€bottom navigationâ€œ (spodnÃ­ liÅ¡ta s 3â€“5 nejdÅ¯leÅ¾itÄ›jÅ¡Ã­mi ikonami), zbytek v hamburger menu.  
Zajistit â€stickyâ€œ (vÅ¾dy viditelnou) moÅ¾nost nÃ¡vratu na hlavnÃ­ panel nebo rychlou akci (napÅ™. + pro novÃ½ poÅ¾adavek/platbu).  
DÅ¯leÅ¾itÃ© akce (napÅ™. nahlÃ¡sit zÃ¡vadu, odeslat platbu) umÃ­stit na jedno kliknutÃ­ z hlavnÃ­ obrazovky.  
MoÅ¾nost rychle pÅ™epnout mezi ÃºÄty, jednotkami, nemovitostmi.  
Testovat na rÅ¯znÃ½ch zaÅ™Ã­zenÃ­ch (iOS, Android, rÅ¯znÃ© rozliÅ¡enÃ­) â€“ kritickÃ© je, aby se nic neztrÃ¡celo a menu bylo intuitivnÃ­.

---

> Modul NastavenÃ­ zajiÅ¡Å¥uje sprÃ¡vu systÃ©movÃ½ch parametrÅ¯, usnadÅˆuje prÃ¡ci uÅ¾ivatelÅ¯m a umoÅ¾Åˆuje personalizovat aplikaci na mÃ­ru, vÄetnÄ› optimalizace pro telefony a tablety.
