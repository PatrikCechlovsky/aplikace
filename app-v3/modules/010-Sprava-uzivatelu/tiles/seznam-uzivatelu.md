## âœ… Checklist pro dokumentaci sekce/dlaÅ¾dice a formulÃ¡Å™e

### 1ï¸âƒ£ Popis a ÃºÄel
- [x] ÃšÄel sekce/dlaÅ¾dice (proÄ existuje, kdo ji pouÅ¾Ã­vÃ¡)
- [x] Kdo mÃ¡ pÅ™Ã­stup/viditelnost podle oprÃ¡vnÄ›nÃ­/rolÃ­

### 2ï¸âƒ£ StromovÃ¡ struktura / navigace
- [x] ZaÅ™azenÃ­ v hlavnÃ­ stromovÃ© struktuÅ™e
- [x] Podsekce a vazby na dalÅ¡Ã­ ÄÃ¡sti (napÅ™. detail, editace, pÅ™idÃ¡nÃ­...)

### 3ï¸âƒ£ PÅ™ehledovÃ¡ tabulka / seznam (pokud existuje)
- [x] VÃ½Äet a popis vÅ¡ech sloupcÅ¯ (nÃ¡zev, vÃ½znam, povinnÃ½/volitelnÃ½, filtr/Å™azenÃ­)
- [x] FiltrovÃ¡nÃ­ a Å™azenÃ­ (jakÃ© moÅ¾nosti, kde jsou dostupnÃ©)
- [x] Akce v Å™Ã¡dku (ikony/tlaÄÃ­tka, popis co dÄ›lajÃ­, u jakÃ©ho stavu jsou viditelnÃ©)
- [x] HromadnÃ© akce nad tabulkou (vÃ½Äet, kdo mÅ¯Å¾e spustit)
- [x] UkÃ¡zka tabulky s pÅ™Ã­klady

### 4ï¸âƒ£ FormulÃ¡Å™ (pÅ™idÃ¡nÃ­/editace)
- [x] VÃ½Äet a popis vÅ¡ech polÃ­ (povinnÃ© x nepovinnÃ©, typ pole, validace)
- [x] VÃ½chozÃ­ hodnoty, pÅ™edvyplnÄ›nÃ­, skrytÃ© pole
- [x] StavovÃ© pole (aktivnÃ­, zablokovÃ¡n, ...), kdo je mÅ¯Å¾e mÄ›nit
- [x] TlaÄÃ­tka ve formulÃ¡Å™i (uloÅ¾it, zruÅ¡it, dalÅ¡Ã­ speciÃ¡lnÃ­ akce)
- [x] JakÃ© validace probÃ­hajÃ­ (na Ãºrovni pole, na Ãºrovni formulÃ¡Å™e)
- [x] ChovÃ¡nÃ­ po odeslÃ¡nÃ­ (co se stane, jakÃ© akce, notifikace)

### 5ï¸âƒ£ Detail zÃ¡znamu
- [x] Co vÅ¡e se zobrazuje v detailu (vÅ¡echna pole, historie, audit, navazujÃ­cÃ­ akce)
- [x] Akce dostupnÃ© v detailu (editace, deaktivace, atd.)

### 6ï¸âƒ£ Akce a workflow
- [x] PÅ™ehled vÅ¡ech moÅ¾nÃ½ch akcÃ­ (kdy, kdo, s jakÃ½m oprÃ¡vnÄ›nÃ­m)
- [x] StavovÃ© pÅ™echody (jakÃ© jsou povolenÃ© pÅ™echody mezi stavy, kdo je mÅ¯Å¾e provÃ¡dÄ›t)
- [x] NapojenÃ­ na dalÅ¡Ã­ workflow (notifikace, audit, schvalovÃ¡nÃ­, ...)

### 7ï¸âƒ£ OprÃ¡vnÄ›nÃ­ a viditelnost
- [x] PÅ™ehled rolÃ­, kterÃ© majÃ­ pÅ™Ã­stup (tabulka rolÃ­ x akce)
- [x] Specifika pro rÅ¯znÃ© role (napÅ™. admin mÅ¯Å¾e vÅ¾dy, bÄ›Å¾nÃ½ uÅ¾ivatel nikdy)

### 8ï¸âƒ£ ChybovÃ© stavy a validace
- [x] VÃ½Äet typickÃ½ch chybovÃ½ch stavÅ¯ (duplicitnÃ­ zÃ¡znam, neplatnÃ½ formÃ¡t, ...)
- [x] UÅ¾ivatelskÃ© hlÃ¡Å¡ky (co pÅ™esnÄ› se zobrazÃ­)
- [x] Specifika pro import/export (chyby pÅ™i importu, validace dat)

### 9ï¸âƒ£ Exporty, importy, audit, GDPR
- [x] MoÅ¾nosti exportu/importu (jakÃ½ formÃ¡t, kdo mÅ¯Å¾e)
- [x] LogovÃ¡nÃ­ a audit (kdo, kdy, co zmÄ›nil)
- [x] GDPR poÅ¾adavky (export osobnÃ­ch ÃºdajÅ¯, anonymizace, ...)

### ğŸ”Ÿ Vazby na dalÅ¡Ã­ moduly a reference
- [x] Na jakÃ© dalÅ¡Ã­ moduly sekce/formulÃ¡Å™ navazuje
- [x] Reference na souvisejÃ­cÃ­ workflow, entity, dokumentaci

### 1ï¸âƒ£1ï¸âƒ£ Specifika a rozÅ¡Ã­Å™enÃ­
- [x] SpeciÃ¡lnÃ­ workflow (SSO, API ÃºÄet, 2FA, ...), bezpeÄnostnÃ­ poznÃ¡mky
- [x] MoÅ¾nÃ© rozÅ¡Ã­Å™enÃ­ do budoucna, TODO, poznÃ¡mky

---

# ğŸŸ¦ Seznam uÅ¾ivatelÅ¯

## 1ï¸âƒ£ Popis a ÃºÄel

PÅ™ehled vÅ¡ech uÅ¾ivatelÅ¯ v systÃ©mu s moÅ¾nostÃ­ rychlÃ©ho vyhledÃ¡nÃ­, filtrovÃ¡nÃ­, editace, sprÃ¡vy oprÃ¡vnÄ›nÃ­ a exportu/importu.  
UÅ¾ivatelÃ© mohou bÃ½t osoby (fyzickÃ©) nebo firmy (prÃ¡vnickÃ© osoby) â€“ viz pole IÄŒO/ARES.  
**NovÄ›: Zobrazit i SSO ÃºÄty, delegace, API klÃ­Äe a preference (viz detail uÅ¾ivatele).**

### Kdo mÃ¡ pÅ™Ã­stup
- **AdministrÃ¡tor**: plnÃ½ pÅ™Ã­stup ke vÅ¡em funkcÃ­m
- **SprÃ¡vce nemovitostÃ­**: pÅ™Ã­stup k zobrazenÃ­ a sprÃ¡vÄ› uÅ¾ivatelÅ¯
- **ÃšÄetnÃ­**: pouze zobrazenÃ­ seznamu a export dat
- **BÄ›Å¾nÃ½ uÅ¾ivatel**: bez pÅ™Ã­stupu

---

## 2ï¸âƒ£ StromovÃ¡ struktura / navigace

DlaÅ¾dice je hlavnÃ­ vstup do sprÃ¡vy uÅ¾ivatelÅ¯. ZaÅ™azenÃ­ v struktuÅ™e:

**010-Sprava-uzivatelu** > **ğŸŸ¦ Seznam uÅ¾ivatelÅ¯**
- â”œâ”€â”€ ğŸ‘ï¸ PÅ™ehled uÅ¾ivatelÅ¯ (zÃ¡kladnÃ­ tabulka vÅ¡ech uÅ¾ivatelÅ¯)
- â”œâ”€â”€ ğŸ“ PÅ™idat/pozvat uÅ¾ivatele (formulÃ¡Å™ pro pÅ™idÃ¡nÃ­ nebo pozvÃ¡nÃ­ uÅ¾ivatele)
- â”œâ”€â”€ âœï¸ Editace uÅ¾ivatele (formulÃ¡Å™ pro editaci uÅ¾ivatele)
- â””â”€â”€ ğŸ‘ï¸ Detail uÅ¾ivatele (detailnÃ­ pohled na uÅ¾ivatele)

---

## 3ï¸âƒ£ PÅ™ehledovÃ¡ tabulka / seznam

### Sloupce tabulky

| Sloupec            | Popis                                   | PovinnÃ½ | Filtrovat/Å˜adit |
|--------------------|-----------------------------------------|:-------:|:--------------:|
| JmÃ©no              | JmÃ©no a pÅ™Ã­jmenÃ­ uÅ¾ivatele              |  Ano    | Ano            |
| E-mail             | KontaktnÃ­ e-mail                        |  Ano    | Ano            |
| Telefon            | TelefonnÃ­ ÄÃ­slo                         |  Ne     | Ano            |
| IÄŒO                | IdentifikaÄnÃ­ ÄÃ­slo organizace           |  Ne     | Ano            |
| Firma              | NÃ¡zev firmy (z ARES)                    |  Ne     | Ano            |
| SSO                | PropojenÃ© ÃºÄty (Google/MS/Apple, ikona) |  Ne     | Ano            |
| Role               | HlavnÃ­ role (popÅ™. vÃ­ce rolÃ­ zkrÃ¡ceno)  |  Ano    | Ano            |
| Stav ÃºÄtu          | AktivnÃ­ / PozvÃ¡n / BlokovÃ¡n / Archiv    |  Ano    | Ano            |
| PoslednÃ­ pÅ™ihlÃ¡Å¡enÃ­| Datum a Äas poslednÃ­ho pÅ™Ã­stupu         |  Ne     | Ano (Å™adit)    |
| Jednotky           | ID/poÄet pÅ™iÅ™azenÃ½ch jednotek           |  Ne     | Ano            |
| Delegace           | PoÄet zÃ¡stupcÅ¯ / sdÃ­lenÃ­ ÃºÄtu           |  Ne     | Ano            |
| Akce               | Ikony pro detail, edit, blok, reset...  |  Ano    | Ne             |

### FiltrovÃ¡nÃ­ a Å™azenÃ­
- **FiltrovÃ¡nÃ­**: fulltext, role, stav, jednotka, firma/IÄŒO, SSO, delegace, datum
- **Å˜azenÃ­**: podle jmÃ©na, e-mailu, role, stavu, poslednÃ­ho pÅ™ihlÃ¡Å¡enÃ­, poÄtu jednotek

### Akce v Å™Ã¡dku
| Ikona | Akce | Popis | ViditelnÃ© kdy |
|-------|------|-------|---------------|
| ğŸ‘ï¸ | Detail | ZobrazÃ­ detail uÅ¾ivatele | VÅ¾dy |
| âœï¸ | Editace | OtevÅ™e formulÃ¡Å™ pro editaci | Pro aktivnÃ­ a pozvanÃ©ho |
| ğŸ—„ï¸ | Archiv | Archivuje uÅ¾ivatele | Pro aktivnÃ­ uÅ¾ivatele |
| â›” | Blokace | Zablokuje uÅ¾ivatele | Pro aktivnÃ­ uÅ¾ivatele |
| ğŸ” | Reset hesla | Resetuje heslo uÅ¾ivatele | Pro aktivnÃ­ a blokovanÃ© |

### HromadnÃ© akce
- **ğŸ“ PÅ™idat** - pÅ™idÃ¡nÃ­ novÃ©ho uÅ¾ivatele (Admin, SprÃ¡vce)
- **ğŸ“Š Export** - export seznamu uÅ¾ivatelÅ¯ (Admin, SprÃ¡vce, ÃšÄetnÃ­)
- **ğŸ“¥ Import** - hromadnÃ½ import uÅ¾ivatelÅ¯ (Admin, SprÃ¡vce)
- **ğŸ—„ï¸ Archivace** - hromadnÃ¡ archivace vybranÃ½ch uÅ¾ivatelÅ¯ (Admin, SprÃ¡vce)
- **â›” Blokace** - hromadnÃ¡ blokace vybranÃ½ch uÅ¾ivatelÅ¯ (Admin, SprÃ¡vce)
- **ğŸ” Reset hesel** - hromadnÃ½ reset hesel (Admin, SprÃ¡vce)
- **âœ³ï¸ SprÃ¡va oprÃ¡vnÄ›nÃ­** - hromadnÃ¡ zmÄ›na rolÃ­ a oprÃ¡vnÄ›nÃ­ (Admin, SprÃ¡vce)
- **ğŸ“ˆ Statistiky** - zobrazenÃ­ statistik vyuÅ¾itÃ­ (Admin, SprÃ¡vce, ÃšÄetnÃ­)

### UkÃ¡zka tabulky

| JmÃ©no      | E-mail             | Firma     | IÄŒO      | Role     | SSO      | Delegace | Stav     | Posl. pÅ™ihlÃ¡Å¡enÃ­ | Akce             |
|------------|--------------------|-----------|----------|----------|----------|----------|----------|------------------|------------------|
| Patrik     | patrik@abc.cz      | ABC s.r.o.| 12345678 | Admin    | G, M     | 2        | AktivnÃ­  | 2025-09-10       | ğŸ‘ï¸ âœï¸ ğŸ—„ï¸ â›” ğŸ”   |
| Jan NovÃ¡k  | jan@xyz.cz         |           |          | UÅ¾ivatel |          | 0        | PozvÃ¡n   |                  | ğŸ‘ï¸ âœï¸ ğŸ—„ï¸        |

---

## 4ï¸âƒ£ FormulÃ¡Å™ (pÅ™idÃ¡nÃ­/editace)

### FormulÃ¡Å™ovÃ¡ pole pro pÅ™idÃ¡nÃ­ uÅ¾ivatele

| Pole             | PovinnÃ© | Typ/validace      | PoznÃ¡mka                      |
|------------------|:-------:|------------------|-------------------------------|
| Osoba/firma      |   Ano   | pÅ™epÃ­naÄ         | Osoba = fyzickÃ¡, Firma = prÃ¡vnickÃ¡ |
| JmÃ©no            |   Ano   | text             |                               |
| PÅ™Ã­jmenÃ­         |   Ano*  | text             | PovinnÃ© jen pro osoby         |
| E-mail           |   Ano   | e-mail (unikÃ¡tnÃ­)| PozvÃ¡nka je odesÃ­lÃ¡na na tento e-mail |
| Telefon          |   Ne    | tel (validace)   |                               |
| IÄŒO              |   Ne**  | ÄÃ­slo            | PovinnÃ© pro firmy, validace ARES  |
| NÃ¡zev firmy      |   Ne**  | text/readonly    | NaÄteno z ARES                |
| Role             |   Ano   | vÃ½bÄ›r            | VÃ½bÄ›r z dostupnÃ½ch            |
| Jednotky         |   Ne    | vÃ½bÄ›r            |                               |
| Funkce/oprÃ¡vnÄ›nÃ­ |   Ne    | vÃ½bÄ›r/checkbox   |                               |
| PoznÃ¡mka         |   Ne    | text             |                               |
| Jazyk rozhranÃ­   |   Ne    | vÃ½bÄ›r            |                               |
| NastavenÃ­ notifikacÃ­ | Ne  | multi-choice     |                               |
| SSO ÃºÄet         |   Ne    | vÃ½bÄ›r            | Google, MS, Apple             |
| Delegace/zÃ¡stupci|   Ne    | multi-choice     | VÃ½bÄ›r uÅ¾ivatelÅ¯               |
| UÅ¾ivatelskÃ¡ metadata | Ne  | json/yaml        | PÅ™Ã­znaky, preference          |
| Odeslat pozvÃ¡nku po uloÅ¾enÃ­ | Ne | checkbox | DefaultnÄ› zaÅ¡krtnuto         |

*PÅ™Ã­jmenÃ­ povinnÃ© jen pro osoby  
**IÄŒO a NÃ¡zev firmy povinnÃ© jen pro firmy (prÃ¡vnickÃ© osoby)

### TlaÄÃ­tka ve formulÃ¡Å™i
- **ğŸ’¾ UloÅ¾it** - uloÅ¾Ã­ zmÄ›ny a zavÅ™e formulÃ¡Å™
- **âŒ ZruÅ¡it** - zavÅ™e formulÃ¡Å™ bez uloÅ¾enÃ­
- **ğŸ“¨ Odeslat pozvÃ¡nku** - poÅ¡le pozvÃ¡nku na e-mail
- **ğŸ” OvÄ›Å™it v ARES** - ovÄ›Å™Ã­ a naÄte Ãºdaje z ARES

### Validace
- **PovinnÃ¡ pole**: jmÃ©no, e-mail, role, pÅ™Ã­jmenÃ­ (u osob), IÄŒO (u firem)
- **UnikÃ¡tnÃ­ e-mail**: kontrola duplicitnÃ­ho e-mailu v systÃ©mu
- **FormÃ¡t e-mailu**: validace formÃ¡tu e-mailovÃ© adresy
- **ValidnÃ­ IÄŒO**: kontrola platnosti IÄŒO u firem
- **Kontrola rolÃ­**: ovÄ›Å™enÃ­ platnÃ½ch rolÃ­ a oprÃ¡vnÄ›nÃ­

### ChovÃ¡nÃ­ po odeslÃ¡nÃ­
- UloÅ¾enÃ­ novÃ©ho uÅ¾ivatele s vygenerovanÃ½m ID
- OdeslÃ¡nÃ­ pozvÃ¡nky (pokud je zaÅ¡krtnuto)
- Notifikace administrÃ¡torÅ¯m o novÃ©m uÅ¾ivateli
- NÃ¡vrat na pÅ™ehled nebo detail uÅ¾ivatele
- ZÃ¡pis do audit logu

---

## 5ï¸âƒ£ Detail zÃ¡znamu

### ZobrazovanÃ© informace v detailu
- **ZÃ¡kladnÃ­ Ãºdaje**: jmÃ©no, pÅ™Ã­jmenÃ­, e-mail, telefon, role, stav ÃºÄtu, jednotky
- **Firma/IÄŒO**: nÃ¡zev firmy, IÄŒO, DIÄŒ, sÃ­dlo (naÄtenÃ© z ARES)
- **Historie pÅ™ihlÃ¡Å¡enÃ­**: pÅ™ehled aktivit a poslednÃ­ch pÅ™Ã­stupÅ¯
- **Role a oprÃ¡vnÄ›nÃ­**: detailnÃ­ seznam rolÃ­, funkcÃ­ a oprÃ¡vnÄ›nÃ­
- **PÅ™iÅ™azenÃ© jednotky**: seznam objektÅ¯/jednotek k nimÅ¾ mÃ¡ pÅ™Ã­stup
- **Audit zmÄ›n**: historie vÅ¡ech zmÄ›n s ÄasovÃ½mi razÃ­tky
- **Notifikace a 2FA**: stav bezpeÄnostnÃ­ch nastavenÃ­
- **API klÃ­Äe**: historie pouÅ¾itÃ­ a stav API pÅ™Ã­stupu
- **SSO ÃºÄty**: propojenÃ© Google, MS, Apple ÃºÄty s poslednÃ­m pÅ™ihlÃ¡Å¡enÃ­m
- **Delegace**: seznam zÃ¡stupcÅ¯ a udÄ›lenÃ½ch oprÃ¡vnÄ›nÃ­
- **Preference**: jazyk rozhranÃ­, nastavenÃ­ notifikacÃ­, metadata

### Akce dostupnÃ© v detailu
| Akce | Ikona | Popis | OprÃ¡vnÄ›nÃ­ |
|------|-------|-------|-----------|
| Editace | âœï¸ | OtevÅ™e formulÃ¡Å™ pro editaci | Admin, SprÃ¡vce |
| Reset hesla | ğŸ” | Resetuje heslo uÅ¾ivatele | Admin, SprÃ¡vce |
| Archivace | ğŸ—„ï¸ | Archivuje uÅ¾ivatele | Admin, SprÃ¡vce |
| Blokace | â›” | Zablokuje uÅ¾ivatele | Admin, SprÃ¡vce |
| SmazÃ¡nÃ­ | ğŸ—‘ï¸ | SmaÅ¾e uÅ¾ivatele | Admin |
| SprÃ¡va oprÃ¡vnÄ›nÃ­ | âœ³ï¸ | UpravÃ­ role a oprÃ¡vnÄ›nÃ­ | Admin, SprÃ¡vce |
| Odeslat pozvÃ¡nku | ğŸ“¨ | PoÅ¡le novou pozvÃ¡nku | Admin, SprÃ¡vce |
| Obnovit pÅ™Ã­stup | ğŸ”’ | ObnovÃ­ zablokovanÃ½ pÅ™Ã­stup | Admin, SprÃ¡vce |
| OvÄ›Å™it v ARES | ğŸ” | Aktualizuje Ãºdaje z ARES | Admin, SprÃ¡vce |

---

## 6ï¸âƒ£ Akce a workflow

### PÅ™ehled akcÃ­ a oprÃ¡vnÄ›nÃ­

| Akce | Kdy dostupnÃ¡ | Kdo mÅ¯Å¾e spustit | PodmÃ­nky |
|------|-------------|------------------|----------|
| PÅ™idat uÅ¾ivatele | VÅ¾dy | Admin, SprÃ¡vce | - |
| Editovat | Pro existujÃ­cÃ­ | Admin, SprÃ¡vce | UÅ¾ivatel existuje |
| Archivovat | Pro aktivnÃ­ | Admin, SprÃ¡vce | Stav = AktivnÃ­ |
| Blokovat | Pro aktivnÃ­ | Admin, SprÃ¡vce | Stav = AktivnÃ­ |
| Reset hesla | Pro aktivnÃ­/blokovanÃ© | Admin, SprÃ¡vce | Stav â‰  Archiv |
| Smazat | Pro archivovanÃ© | Admin | Stav = Archiv |
| Export | VÅ¾dy | Admin, SprÃ¡vce, ÃšÄetnÃ­ | - |
| Import | VÅ¾dy | Admin, SprÃ¡vce | - |

### StavovÃ© pÅ™echody
```
PozvÃ¡n â†’ AktivnÃ­ (po prvnÃ­m pÅ™ihlÃ¡Å¡enÃ­)
AktivnÃ­ â†’ BlokovÃ¡n (blokace administrÃ¡torem)
AktivnÃ­ â†’ Archiv (archivace administrÃ¡torem)
BlokovÃ¡n â†’ AktivnÃ­ (obnovenÃ­ pÅ™Ã­stupu)
BlokovÃ¡n â†’ Archiv (archivace)
Archiv â†’ SmazÃ¡no (trvalÃ© smazÃ¡nÃ­)
```

### Workflow procesy
1. **PÅ™idÃ¡nÃ­ uÅ¾ivatele** â†’ OdeslÃ¡nÃ­ pozvÃ¡nky â†’ Aktivace ÃºÄtu â†’ PrvnÃ­ pÅ™ihlÃ¡Å¡enÃ­
2. **PÅ™idÃ¡nÃ­ firmy** â†’ ZadÃ¡nÃ­ IÄŒO â†’ OvÄ›Å™enÃ­ v ARES â†’ AutomatickÃ© doplnÄ›nÃ­ ÃºdajÅ¯
3. **Editace** â†’ UloÅ¾enÃ­ zmÄ›n â†’ Historie zmÄ›n v audit logu
4. **HromadnÃ½ import** â†’ Validace â†’ ZÃ¡pis â†’ HlÃ¡Å¡enÃ­ chyb
5. **Export** â†’ Kontrola prÃ¡v â†’ StaÅ¾enÃ­ souboru
6. **SprÃ¡va rolÃ­** â†’ PÅ™iÅ™azenÃ­ rolÃ­ â†’ ZmÄ›na prÃ¡v
7. **NapojenÃ­ SSO** â†’ OvÄ›Å™enÃ­ â†’ ZobrazenÃ­ v detailu â†’ MoÅ¾nost odpojit
8. **Delegace** â†’ UdÄ›lenÃ­ prÃ¡v â†’ Evidence v detailu â†’ MoÅ¾nost odebrÃ¡nÃ­
9. **NastavenÃ­ preferencÃ­** â†’ UloÅ¾enÃ­ â†’ ZpÄ›tnÃ¡ vazba â†’ Audit zmÄ›n

---

## 7ï¸âƒ£ OprÃ¡vnÄ›nÃ­ a viditelnost

### Tabulka oprÃ¡vnÄ›nÃ­ podle rolÃ­

| Akce                  | Admin | SprÃ¡vce | ÃšÄetnÃ­ | BÄ›Å¾nÃ½ uÅ¾ivatel |
|-----------------------|:-----:|:-------:|:------:|:--------------:|
| Zobrazit seznam       |  âœ…   |   âœ…    |   âœ…   |       ğŸš«       |
| PÅ™idat/editovat       |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| Archivovat/blokovat   |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| Reset hesla           |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| Export/import         |  âœ…   |   âœ…    |   âœ…   |       ğŸš«       |
| SprÃ¡va oprÃ¡vnÄ›nÃ­      |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| HromadnÃ© akce         |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| SprÃ¡va SSO ÃºÄtÅ¯       |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| SprÃ¡va delegace       |  âœ…   |   âœ…    |   ğŸš«   |       ğŸš«       |
| SprÃ¡va preferencÃ­     |  âœ…   |   âœ…    |   âœ…   |       ğŸš«       |

### Specifika pro role
- **AdministrÃ¡tor**: plnÃ½ pÅ™Ã­stup ke vÅ¡em funkcÃ­m, mÅ¯Å¾e spravovat ostatnÃ­ administrÃ¡tory
- **SprÃ¡vce nemovitostÃ­**: mÅ¯Å¾e spravovat uÅ¾ivatele, ale nemÅ¯Å¾e mÄ›nit administrÃ¡tory
- **ÃšÄetnÃ­**: pouze ÄtenÃ­ a export dat pro ÃºÄetnÃ­ ÃºÄely
- **BÄ›Å¾nÃ½ uÅ¾ivatel**: bez pÅ™Ã­stupu k seznamu uÅ¾ivatelÅ¯

---

## 8ï¸âƒ£ ChybovÃ© stavy a validace

### TypickÃ© chybovÃ© stavy

| Chyba                   | Å˜eÅ¡enÃ­                         | UÅ¾ivatelskÃ¡ hlÃ¡Å¡ka                           |
|-------------------------|-------------------------------|---------------------------------------------|
| DuplicitnÃ­ e-mail       | OvÄ›Å™it zadÃ¡nÃ­ a unikÃ¡tnost    | "UÅ¾ivatel se stejnÃ½m e-mailem jiÅ¾ existuje." |
| PovinnÃ© pole chybÃ­      | Doplnit povinnÃ½ Ãºdaj          | "VyplÅˆte prosÃ­m vÅ¡echna povinnÃ¡ pole." |
| NeplatnÃ½ formÃ¡t e-mailu | Opravit zadÃ¡nÃ­                | "E-mail nemÃ¡ platnÃ½ formÃ¡t." |
| NeplatnÃ© IÄŒO            | OvÄ›Å™it v ARES, opravit        | "IÄŒO nenÃ­ platnÃ© nebo nebylo nalezeno." |
| Nelze odstranit admina  | MusÃ­ zÅ¯stat min. 1 admin      | "Nelze odebrat poslednÃ­ho administrÃ¡tora." |
| Chyba pÅ™i napojenÃ­ SSO  | Kontaktovat podporu           | "NepodaÅ™ilo se propojit SSO ÃºÄet." |
| Chyba pÅ™i odebrÃ¡nÃ­ delegace | Zkusit znovu              | "Delegace se nepodaÅ™ilo odebrat." |
| Chyba v metadatech      | Opravit formÃ¡t                | "Metadata nejsou ve sprÃ¡vnÃ©m formÃ¡tu." |
| Chyba pÅ™i zmÄ›nÄ› preferencÃ­ | Zkusit znovu               | "NepodaÅ™ilo se uloÅ¾it preference." |

### Import/Export specifika
- **Chyby pÅ™i importu**: neplatnÃ½ formÃ¡t souboru, duplicitnÃ­ zÃ¡znamy, chybÄ›jÃ­cÃ­ povinnÃ¡ pole
- **Validace dat**: kontrola formÃ¡tu vÅ¡ech polÃ­ pÅ™ed importem
- **HlÃ¡Å¡ky pÅ™i exportu**: informace o poÄtu exportovanÃ½ch zÃ¡znamÅ¯, filtrech

---

## 9ï¸âƒ£ Exporty, importy, audit, GDPR

### MoÅ¾nosti exportu
- **FormÃ¡ty**: CSV, Excel, PDF
- **Obsah**: vÅ¡echna pole vÄetnÄ› IÄŒO, firmy, SSO, delegace, preferencÃ­, metadat
- **Filtry**: moÅ¾nost exportu pouze vyfiltrovanÃ½ch zÃ¡znamÅ¯
- **OprÃ¡vnÄ›nÃ­**: Admin, SprÃ¡vce, ÃšÄetnÃ­

### MoÅ¾nosti importu
- **FormÃ¡ty**: CSV, Excel
- **Validace**: kontrola vÅ¡ech polÃ­ pÅ™ed importem
- **Å ablona**: dostupnÃ¡ Å¡ablona s pÅ™Ã­klady
- **OprÃ¡vnÄ›nÃ­**: Admin, SprÃ¡vce

### Audit a logovÃ¡nÃ­
- **Co se loguje**: vÅ¡echny zmÄ›ny uÅ¾ivatelskÃ½ch ÃºdajÅ¯, pÅ™ihlÃ¡Å¡enÃ­, zmÄ›ny rolÃ­
- **Kdo**: ID uÅ¾ivatele, kterÃ½ zmÄ›nu provedl
- **Kdy**: ÄasovÃ© razÃ­tko zmÄ›ny
- **Co**: detailnÃ­ popis zmÄ›ny (starÃ© â†’ novÃ© hodnoty)

### GDPR poÅ¾adavky
- **Export osobnÃ­ch ÃºdajÅ¯**: moÅ¾nost exportu vÅ¡ech dat uÅ¾ivatele
- **Anonymizace**: moÅ¾nost anonymizovat uÅ¾ivatele mÃ­sto smazÃ¡nÃ­
- **PrÃ¡vo na zapomenutÃ­**: moÅ¾nost ÃºplnÃ©ho smazÃ¡nÃ­ uÅ¾ivatele a jeho dat
- **Souhlas**: evidence souhlasÅ¯ se zpracovÃ¡nÃ­m osobnÃ­ch ÃºdajÅ¯

---

## ğŸ”Ÿ Vazby na dalÅ¡Ã­ moduly a reference

### NavazujÃ­cÃ­ moduly
- **020-Muj-ucet**: sprÃ¡va vlastnÃ­ho profilu uÅ¾ivatele
- **130-Nastaveni**: globÃ¡lnÃ­ nastavenÃ­ systÃ©mu a rolÃ­
- **110-Komunikace**: notifikace a komunikace s uÅ¾ivateli
- **040-Nemovitost**: pÅ™iÅ™azenÃ­ uÅ¾ivatelÅ¯ k nemovitostem
- **060-Smlouva**: propojenÃ­ uÅ¾ivatelÅ¯ se smlouvami

### Reference na workflow
- **SprÃ¡va oprÃ¡vnÄ›nÃ­**: moduly rolÃ­ a funkcÃ­
- **Audit log**: zÃ¡znam vÅ¡ech zmÄ›n
- **Notifikace**: automatickÃ© informovÃ¡nÃ­ o zmÄ›nÃ¡ch
- **ARES integrace**: ovÄ›Å™ovÃ¡nÃ­ firemnÃ­ch ÃºdajÅ¯

### SouvisejÃ­cÃ­ entity
- **Role a oprÃ¡vnÄ›nÃ­**: definice pÅ™Ã­stupovÃ½ch prÃ¡v
- **Jednotky/objekty**: nemovitosti pÅ™iÅ™azenÃ© uÅ¾ivatelÅ¯m  
- **Smlouvy**: dokumenty spojenÃ© s uÅ¾ivateli
- **Platby**: finanÄnÃ­ transakce uÅ¾ivatelÅ¯

---

## 1ï¸âƒ£1ï¸âƒ£ Specifika a rozÅ¡Ã­Å™enÃ­

### BezpeÄnostnÃ­ poznÃ¡mky
- **SSO integrace**: bezpeÄnÃ© propojenÃ­ s externÃ­mi poskytovateli identity
- **2FA**: moÅ¾nost aktivace dvoufaktorovÃ© autentizace
- **API pÅ™Ã­stup**: bezpeÄnÃ© generovÃ¡nÃ­ a sprÃ¡va API klÃ­ÄÅ¯
- **Audit trail**: ÃºplnÃ© sledovÃ¡nÃ­ vÅ¡ech zmÄ›n pro bezpeÄnostnÃ­ ÃºÄely

### SpeciÃ¡lnÃ­ workflow
- **Delegace**: sprÃ¡va zÃ¡stupnÃ½ch oprÃ¡vnÄ›nÃ­ mezi uÅ¾ivateli
- **HromadnÃ© operace**: efektivnÃ­ sprÃ¡va vÄ›tÅ¡Ã­ho poÄtu uÅ¾ivatelÅ¯
- **ARES integrace**: automatickÃ© naÄÃ­tÃ¡nÃ­ a ovÄ›Å™ovÃ¡nÃ­ firemnÃ­ch ÃºdajÅ¯
- **Preference**: personalizace uÅ¾ivatelskÃ©ho rozhranÃ­

### MoÅ¾nÃ¡ rozÅ¡Ã­Å™enÃ­ do budoucna
- **Skupiny/tÃ½my**: organizace uÅ¾ivatelÅ¯ do skupin
- **PokroÄilÃ¡ oprÃ¡vnÄ›nÃ­**: jemnÄ›jÅ¡Ã­ Å™Ã­zenÃ­ pÅ™Ã­stupÅ¯
- **Workflow schvalovÃ¡nÃ­**: procesy pro schvalovÃ¡nÃ­ zmÄ›n
- **Integrace s externÃ­mi systÃ©my**: propojenÃ­ s dalÅ¡Ã­mi aplikacemi
- **PokroÄilÃ© reporting**: detailnÃ­ analÃ½zy vyuÅ¾itÃ­ systÃ©mu

### TODO poznÃ¡mky
- RozÅ¡Ã­Å™it SSO o dalÅ¡Ã­ poskytovatele (LinkedIn, GitHub)
- Implementovat pokroÄilÃ© filtrovÃ¡nÃ­ a vyhledÃ¡vÃ¡nÃ­
- PÅ™idat moÅ¾nost bulk operacÃ­ s vÃ­ce filtry
- VylepÅ¡it ARES integraci o kontrolu platnosti firem
- PÅ™idat notifikace pro expiraci ÃºÄtÅ¯